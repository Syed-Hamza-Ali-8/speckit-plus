<svg width="600" height="300" viewBox="0 0 600 300" xmlns="http://www.w3.org/2000/svg">
  <!-- Styles -->
  <style>
    .node-box {
      fill: #e0f2f7; /* Light blue */
      stroke: #007bff; /* Blue */
      stroke-width: 2;
    }
    .middleware-box {
      fill: #fff3cd; /* Light yellow */
      stroke: #ffc107; /* Yellow */
      stroke-width: 2;
    }
    .text {
      font-family: sans-serif;
      font-size: 16px;
      fill: #343a40; /* Dark gray */
      text-anchor: middle;
      dominant-baseline: middle;
    }
    .arrow {
      stroke: #6c757d; /* Gray */
      stroke-width: 2;
      marker-end: url(#arrowhead);
    }
    .dashed-arrow {
      stroke: #6c757d; /* Gray */
      stroke-width: 2;
      stroke-dasharray: 5,5;
      marker-end: url(#arrowhead);
    }
  </style>

  <!-- Arrowhead definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6c757d" />
    </marker>
  </defs>

  <!-- Nodes -->
  <rect x="50" y="100" width="120" height="60" rx="10" ry="10" class="node-box" />
  <text x="110" y="130" class="text">Sensor Node</text>

  <rect x="240" y="100" width="120" height="60" rx="10" ry="10" class="middleware-box" />
  <text x="300" y="130" class="text">ROS 2 Middleware</text>

  <rect x="430" y="100" width="120" height="60" rx="10" ry="10" class="node-box" />
  <text x="490" y="130" class="text">Actuator Node</text>

  <!-- Communication (Topics) -->
  <rect x="50" y="200" width="120" height="60" rx="10" ry="10" class="node-box" />
  <text x="110" y="230" class="text">Logic Node</text>

  <!-- Arrows to Middleware -->
  <line x1="170" y1="130" x2="240" y2="130" class="arrow" />
  <line x1="360" y1="130" x2="430" y2="130" class="arrow" />
  <line x1="110" y1="160" x2="110" y2="200" class="arrow" />
  <line x1="300" y1="160" x2="300" y2="200" class="arrow" />
  <line x1="490" y1="160" x2="490" y2="200" class="arrow" />

  <!-- Communication from Logic Node to Middleware -->
  <line x1="170" y1="230" x2="240" y2="130" class="dashed-arrow" />
  <line x1="360" y1="130" x2="430" y2="230" class="dashed-arrow" />
  <line x1="300" y1="200" x2="300" y2="160" class="arrow" />
</svg>